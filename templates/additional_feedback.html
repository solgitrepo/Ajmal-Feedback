{% extends "base.html" %}

{% block content %}
<div class="progress" style="height: 12px; background-color: #f0f1f5; border-radius: 10px;">
    <div class="progress-bar progress-bar-striped" role="progressbar"
        style="width: 50%; background-color: #3ecf8e; border-radius: 10px;
            background-image: repeating-linear-gradient(
                45deg,
                rgba(255, 255, 255, 0.2),
                rgba(255, 255, 255, 0.2) 10px,
                transparent 10px,
                transparent 20px
            );"
        aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
    </div>
</div>


{% if session.form_data['satisfaction'] == 'Yes' %}
    <h2 class="text-center mb-4">
        {% if session['language'] == 'Arabic' %}
            هل ترغب في مشاركة أي ملاحظات إضافية تتعلق بتجربة تسوقك الأخيرة؟
        {% else %}
            Would you like to share any additional feedback related to your recent shopping experience?
        {% endif %}
    </h2>
{% else %}
    <h2 class="text-center mb-4">
        {% if session['language'] == 'Arabic' %}
            نأسف لإضاعة الفرصة لتزويدك بتجربة تسوق ممتعة لا تتردد في مشاركة أي تعليقات إضافية تتعلق بتجربتك الأخيرة
        {% else %}
            We regret having missed the opportunity in providing you with a pleasant shopping experience. Please feel free to share any additional feedback related to your recent experience.
        {% endif %}
    </h2>
{% endif %}

<div class="d-flex justify-content-center">
    <form method="POST" class="text-center" style="width: 100%; max-width: 500px;">
    <div class="mb-3">
        <textarea class="form-control" name="additional_feedback" rows="4"
        placeholder="{% if session.language == 'Arabic' %}اكتب ملاحظاتك هنا{% else %}Write your feedback here{% endif %}">{{ existing_feedback }}</textarea>


    </div>
    <div class="row">
        {% if session.language == 'Arabic' %}
            <!-- Arabic: Next on the left, Previous on the right -->
            <div class="col-6 d-flex justify-content-start">
                <button type="submit" class="btn btn-primary">
                    ←التالي 
                </button>
            </div>
            <div class="col-6 d-flex justify-content-end">
                <a href="{% if session.form_data['satisfaction'] == 'No' %}
                            {% if session.form_data['dissatisfaction_reason'] == 'product' %}
                                {{ url_for('product_feedback') }}
                            {% elif session.form_data['dissatisfaction_reason'] == 'staff' %}
                                {{ url_for('staff_feedback') }}
                            {% elif session.form_data['dissatisfaction_reason'] == 'ambience' %}
                                {{ url_for('ambience_feedback') }}
                            {% else %}
                                {{ url_for('satisfaction_reason') }}
                            {% endif %}
                        {% else %}
                            {{ url_for('satisfaction_reason') }}
                        {% endif %}"
                class="btn btn-outline-secondary">
                السابق→
                </a>
            </div>
        {% else %}
            <!-- English: Previous on the left, Next on the right -->
            <div class="col-6 d-flex justify-content-start">
                <a href="{% if session.form_data['satisfaction'] == 'No' %}
                            {% if session.form_data['dissatisfaction_reason'] == 'product' %}
                                {{ url_for('product_feedback') }}
                            {% elif session.form_data['dissatisfaction_reason'] == 'staff' %}
                                {{ url_for('staff_feedback') }}
                            {% elif session.form_data['dissatisfaction_reason'] == 'ambience' %}
                                {{ url_for('ambience_feedback') }}
                            {% else %}
                                {{ url_for('satisfaction_reason') }}
                            {% endif %}
                        {% else %}
                            {{ url_for('satisfaction_reason') }}
                        {% endif %}"
                class="btn btn-outline-secondary">
                    ← Previous
                </a>
            </div>
            <div class="col-6 d-flex justify-content-end">
                <button type="submit" class="btn btn-primary">
                    Next →
                </button>
            </div>
        {% endif %}
    </div>
    
</div>
    
    
</form>    
{% endblock %}
