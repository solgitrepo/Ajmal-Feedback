{% extends "base.html" %}

{% block content %}
<div class="container">
    <form method="POST" action="{{ url_for('product_feedback') }}" class="mx-auto" style="max-width: 600px;" accept-charset="UTF-8">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <input type="hidden" name="form_type" value="product_feedback">
        <div class="progress mb-4" style="height: 12px; background-color: #f0f1f5; border-radius: 10px;">
            <div class="progress-bar progress-bar-striped" role="progressbar"
                style="width: 40%; background-color: #3ecf8e; border-radius: 10px;
                        background-image: repeating-linear-gradient(
                            45deg,
                            rgba(255, 255, 255, 0.2),
                            rgba(255, 255, 255, 0.2) 10px,
                            transparent 10px,
                            transparent 20px
                        );"
                aria-valuenow="12.5" aria-valuemin="0" aria-valuemax="100">
            </div>
        </div>

        <div class="text-center mb-4">
            <label class="language-label">
                <strong>
                {% if session.language == 'Arabic' %}
                    .يرجى اختيار أحد الأسباب المذكورة أدناه
                {% else %}
                    Please select one of the reasons listed below.
                {% endif %}
                </strong>
            </label>
        </div>

        <div class="feedback-options">
            <div class="mb-3">
                <div class="p-3 d-flex align-items-center justify-content-start feedback-option"
                    style="border: none; background-color: #d6d6d6; width: 100%; height: 40px; border-radius: 4px;">
                    <input class="form-check-input me-2" type="radio" name="product_reasons" value="Not enough variety" id="p1"
                        {% if "Not enough variety" in product_reasons %}checked{% endif %} required>
                    <label class="form-check-label mb-0" for="p1"
                        style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 500; font-size: 14px;">
                        {% if session.language == 'Arabic' %} لا يوجد تنوع كاف {% else %} Not enough variety {% endif %}
                    </label>
                </div>
            </div>

            <div class="mb-3">
                <div class="p-3 d-flex align-items-center justify-content-start feedback-option"
                    style="border: none; background-color: #d6d6d6; width: 100%; height: 40px; border-radius: 4px;">
                    <input class="form-check-input me-2" type="radio" name="product_reasons" value="No offers or promotions on selected products" id="p2"
                        {% if "No offers or promotions on selected products" in product_reasons %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="p2"
                        style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 500; font-size: 14px;">
                        {% if session.language == 'Arabic' %} لا توجد عروض على المنتجات المفضلة لي {% else %} No offers or promotions on selected products {% endif %}
                    </label>
                </div>
            </div>

            <div class="mb-3">
                <div class="p-3 d-flex align-items-center justify-content-start feedback-option"
                    style="border: none; background-color: #d6d6d6; width: 100%; height: 40px; border-radius: 4px;">
                    <input class="form-check-input me-2" type="radio" name="product_reasons" value="The price was higher than expectation" id="p3"
                        {% if "The price was higher than expectation" in product_reasons %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="p3"
                        style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 500; font-size: 14px;">
                        {% if session.language == 'Arabic' %} كانت الأسعار أعلى من المتوقع {% else %} The price was higher than expected {% endif %}
                    </label>
                </div>
            </div>

            <div class="mb-3">
                <div class="p-3 d-flex align-items-center justify-content-start feedback-option"
                    style="border: none; background-color: #d6d6d6; width: 100%; height: 40px; border-radius: 4px;">
                    <input class="form-check-input me-2" type="radio" name="product_reasons" value="My preferred item was out of stock" id="p4"
                        {% if "My preferred item was out of stock" in product_reasons %}checked{% endif %}>
                    <label class="form-check-label mb-0" for="p4"
                        style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 500; font-size: 14px;">
                        {% if session.language == 'Arabic' %} كان إختياري المفضل غير متوفر {% else %} My preferred item was out of stock {% endif %}
                    </label>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            {% if session.language == 'Arabic' %}
                <div class="col text-start">
                    <button type="submit" class="btn btn-primary" style="border-radius: 4px; box-shadow: 0 6px 6px rgba(0, 0, 0, 0.1); padding: 8px 12px; font-size: 14px;">
                        < التالي
                    </button>
                </div>
                <div class="col text-end">
                    <a href="{{ url_for('satisfaction_reason') }}" class="btn btn-primary" style="border-radius: 4px; box-shadow: 0 6px 6px rgba(0, 0, 0, 0.1); padding: 8px 12px; font-size: 14px;">
                        السابق >
                    </a>
                </div>
            {% else %}
                <div class="col text-start">
                    <a href="{{ url_for('satisfaction_reason') }}" class="btn btn-primary" style="border-radius: 4px; box-shadow: 0 6px 6px rgba(0, 0, 0, 0.1); padding: 8px 12px; font-size: 14px;">
                        < Previous
                    </a>
                </div>
                <div class="col text-end">
                    <button type="submit" class="btn btn-primary" style="border-radius: 4px; box-shadow: 0 6px 6px rgba(0, 0, 0, 0.1); padding: 8px 12px; font-size: 14px;">
                        Next >
                    </button>
                </div>
            {% endif %}
        </div>
    </form>
</div>

<style>
    .container {
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }
    .feedback-option {
        transition: background-color 0.2s;
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
    }
    .feedback-option:hover {
        background-color: #c4c4c4 !important;
    }
    .form-check-input {
        margin-top: 0;
        cursor: pointer;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
    }
    .form-check-label {
        cursor: pointer;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
    }
    @media (max-width: 768px) {
        .container {
            padding: 10px;
        }
        .feedback-option {
            height: auto !important;
            min-height: 40px;
        }
    }
</style>
{% endblock %}
